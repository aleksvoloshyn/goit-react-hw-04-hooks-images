(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={Modal__overlay:"Modal_Modal__overlay__29zwG",Modal__content:"Modal_Modal__content__2UFHW"}},21:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__ef3sV",ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__pyiQl"}},22:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2qP4z"}},23:function(e,t,a){e.exports={Button:"Button_Button__ov8f2"}},26:function(e,t,a){e.exports={loader:"Loader_loader__1dll5"}},31:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__26iyH",SearchForm:"Searchbar_SearchForm__3F_7X",SearchForm__button:"Searchbar_SearchForm__button__3-O2n",SearchForm__button__label:"Searchbar_SearchForm__button__label__Y64OF",SearchForm__input:"Searchbar_SearchForm__input__enEw1"}},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(5),r=a.n(o),l=(a(31),a(10)),s=a(4),i=a(6),u=a.n(i),m=a(9),b=a(1),_=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),o=c[0],r=c[1];return Object(b.jsx)("header",{className:u.a.Searchbar,children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o?(r(""),t(o)):m.b.error("\u0412\u0432\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430")},className:u.a.SearchForm,children:[Object(b.jsx)("button",{type:"submit",className:u.a.SearchForm__button,children:Object(b.jsx)("span",{className:u.a.SearchForm__button__label,children:"Search"})}),Object(b.jsx)("input",{className:u.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){r(e.currentTarget.value)},value:o})]})})},j=a(12),h=a.n(j),d=document.querySelector("#modal-root"),g=function(e){var t=e.onClose,a=e.children;Object(n.useEffect)((function(){window.addEventListener("keydown",r)}),[]);var c=function(){window.removeEventListener("keydown",r),t()},r=function(e){"Escape"===e.code&&c()};return Object(o.createPortal)(Object(b.jsx)("div",{className:h.a.Modal__overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(b.jsx)("div",{className:h.a.Modal__content,children:a})}),d)},f=a(75),O=a(21),p=a.n(O),x=function(e){var t=e.toggle,a=e.images;return Object(b.jsx)(b.Fragment,{children:a.map((function(e){return Object(b.jsx)("li",{onClick:t,className:"ImageGalleryItem",children:Object(b.jsx)("img",{src:e.webformatURL,alt:e.tags,className:p.a.ImageGalleryItem__image,"data-largeimage":e.largeImageURL})},Object(f.a)())}))})},S=a(22),v=a.n(S),y=function(e){var t=e.images,a=e.toggleModal;return Object(b.jsx)("div",{children:Object(b.jsx)("ul",{className:v.a.ImageGallery,children:Object(b.jsx)(x,{toggle:a,images:t})})})},F=a(23),I=a.n(F);function w(e){var t=e.onClick;return Object(b.jsx)("button",{onClick:t,className:I.a.Button,children:"Load more"})}var M=a(24),N=a.n(M);var C=a(25),G=a.n(C),k=a(26),B=a.n(k),E=function(){return Object(b.jsx)(G.a,{type:"MutatingDots",color:"#00BFFF",height:100,width:100,timeout:500,className:B.a.loader})};a(71),a(72);var L=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),r=Object(s.a)(o,2),i=r[0],u=r[1],j=Object(n.useState)(""),h=Object(s.a)(j,2),d=h[0],f=h[1],O=Object(n.useState)(!1),p=Object(s.a)(O,2),x=p[0],S=p[1],v=Object(n.useState)(1),F=Object(s.a)(v,2),I=F[0],M=F[1],C=Object(n.useState)(""),G=Object(s.a)(C,2),k=G[0],B=G[1],L=Object(n.useState)(""),T=Object(s.a)(L,2),P=T[0],q=T[1];Object(n.useEffect)((function(){D(d,I,"searchBtn")}),[d]),Object(n.useEffect)((function(){D(d,I,"loadMoreBtn")}),[I]);var D=function(e,t,a){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return N.a.get("https://pixabay.com/api/?key=22398165-fb0cc592f6e3d650fc4eef6c6&q=".concat(e,"&page=").concat(t,"&per_page=12&image_type=photo"))})(e,t).then((function(e){if(200===e.status&&d.trim().length&&("searchBtn"===a&&u(Object(l.a)(e.data.hits)),"loadMoreBtn"===a&&(u([].concat(Object(l.a)(i),Object(l.a)(e.data.hits))),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))),404===e.status)throw new Error(e.message||"pictures not exist")})).catch((function(e){console.error("error",e)})).then((function(){S(!1)}))};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(m.a,{autoClose:2e3,newestOnTop:!0}),Object(b.jsx)(_,{onSubmit:function(e){S(!0),f(e)}}),0!==i.length&&Object(b.jsx)(y,{toggleModal:function(e){c(!a),void 0!==e&&(B(e.target.dataset.largeimage),q(e.target.alt))},images:i}),a&&Object(b.jsx)(g,{onClose:function(){c(!a)},children:Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:k,alt:P})})}),x&&Object(b.jsx)(E,{}),i.length>0&&Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(w,{id:"loadmore",onClick:function(){M(I+1),S(!0)}})})]})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),o(e),r(e)}))};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root")),T()}},[[73,1,2]]]);
//# sourceMappingURL=main.1fee085a.chunk.js.map